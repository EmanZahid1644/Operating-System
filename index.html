<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Disk Scheduling Visualizer</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastify-js/1.12.0/toastify.min.css">
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-hdd"></i> Disk Scheduling Visualizer</h1>
            <p class="subtitle">Visualize and compare disk scheduling algorithms in real-time</p>
        </header>

        <div class="main-content">
            <div class="input-section">
                <div class="input-card">
                    <h2><i class="fas fa-sliders-h"></i> Configuration</h2>
                    
                    <div class="input-group">
                        <label for="disk">
                            <i class="fas fa-compress-alt"></i> Disk Size (Cylinders)
                            <span class="info-tooltip" data-tooltip="Total number of cylinders on the disk">?</span>
                        </label>
                        <div class="input-with-icon">
                            <input type="number" id="disk" placeholder="e.g. 200" min="1" max="1000" value="200">
                            <span class="input-icon">cyl</span>
                        </div>
                        <div class="range-container">
                            <input type="range" id="disk-range" min="50" max="500" step="10" value="200">
                            <div class="range-value">200</div>
                        </div>
                    </div>

                    <div class="input-group">
                        <label for="head">
                            <i class="fas fa-crosshairs"></i> Initial Head Position
                            <span class="info-tooltip" data-tooltip="Starting position of the disk head">?</span>
                        </label>
                        <div class="input-with-icon">
                            <input type="number" id="head" placeholder="e.g. 50" min="0" max="200" value="50">
                            <span class="input-icon">pos</span>
                        </div>
                        <div class="range-container">
                            <input type="range" id="head-range" min="0" max="200" step="1" value="50">
                            <div class="range-value">50</div>
                        </div>
                    </div>

                    <div class="input-group">
                        <label for="numReq">
                            <i class="fas fa-list-ol"></i> Number of Requests
                            <span class="info-tooltip" data-tooltip="Total number of I/O requests">?</span>
                        </label>
                        <div class="input-with-icon">
                            <input type="number" id="numReq" placeholder="e.g. 8" min="1" max="20" value="8">
                            <span class="input-icon">#</span>
                        </div>
                        <div class="range-container">
                            <input type="range" id="numReq-range" min="3" max="20" step="1" value="8">
                            <div class="range-value">8</div>
                        </div>
                    </div>

                    <div class="input-group">
                        <label for="req">
                            <i class="fas fa-bullseye"></i> Requests (comma separated)
                            <span class="info-tooltip" data-tooltip="Enter cylinder numbers between 0 and Disk Size">?</span>
                        </label>
                        <div class="input-with-icon">
                            <input type="text" id="req" placeholder="98,183,37,122,14,124,65,67" value="98,183,37,122,14,124,65,67">
                            <button class="generate-btn" onclick="generateRandomRequests()">
                                <i class="fas fa-dice"></i> Random
                            </button>
                        </div>
                        <div class="request-preview" id="request-preview">
                            <span class="preview-label">Preview:</span>
                            <div class="preview-values">98, 183, 37, 122, 14, 124, 65, 67</div>
                        </div>
                    </div>

                    <div class="algorithm-selector">
                        <h3><i class="fas fa-cogs"></i> Select Algorithms</h3>
                        <div class="algorithms-grid">
                            <label class="algorithm-checkbox active" data-algo="FCFS">
                                <input type="checkbox" checked data-algo="FCFS">
                                <span class="checkmark"></span>
                                <span class="algo-name">FCFS</span>
                                <span class="algo-desc">First Come First Serve</span>
                            </label>
                            <label class="algorithm-checkbox active" data-algo="SSTF">
                                <input type="checkbox" checked data-algo="SSTF">
                                <span class="checkmark"></span>
                                <span class="algo-name">SSTF</span>
                                <span class="algo-desc">Shortest Seek Time First</span>
                            </label>
                            <label class="algorithm-checkbox active" data-algo="SCAN">
                                <input type="checkbox" checked data-algo="SCAN">
                                <span class="checkmark"></span>
                                <span class="algo-name">SCAN</span>
                                <span class="algo-desc">Elevator Algorithm</span>
                            </label>
                            <label class="algorithm-checkbox active" data-algo="C-SCAN">
                                <input type="checkbox" checked data-algo="C-SCAN">
                                <span class="checkmark"></span>
                                <span class="algo-name">C-SCAN</span>
                                <span class="algo-desc">Circular SCAN</span>
                            </label>
                            <label class="algorithm-checkbox" data-algo="LOOK">
                                <input type="checkbox" data-algo="LOOK">
                                <span class="checkmark"></span>
                                <span class="algo-name">LOOK</span>
                                <span class="algo-desc">Optimized SCAN</span>
                            </label>
                            <label class="algorithm-checkbox" data-algo="C-LOOK">
                                <input type="checkbox" data-algo="C-LOOK">
                                <span class="checkmark"></span>
                                <span class="algo-name">C-LOOK</span>
                                <span class="algo-desc">Circular LOOK</span>
                            </label>
                        </div>
                    </div>

                    <div class="control-buttons">
                        <button class="btn visualize-btn" onclick="visualize()">
                            <i class="fas fa-play"></i> Visualize
                        </button>
                        <button class="btn animation-btn" onclick="playAnimation()">
                            <i class="fas fa-play-circle"></i> Play Animation
                        </button>
                        <button class="btn step-btn" onclick="stepAnimation()">
                            <i class="fas fa-step-forward"></i> Step Mode
                        </button>
                        <button class="btn reset-btn" onclick="resetAll()">
                            <i class="fas fa-redo"></i> Reset All
                        </button>
                    </div>

                    <div class="animation-controls hidden" id="animation-controls">
                        <div class="speed-control">
                            <label><i class="fas fa-tachometer-alt"></i> Speed:</label>
                            <input type="range" id="speed-range" min="1" max="10" value="5">
                            <span id="speed-value">Medium</span>
                        </div>
                        <div class="animation-buttons">
                            <button class="btn small-btn" onclick="pauseAnimation()">
                                <i class="fas fa-pause"></i> Pause
                            </button>
                            <button class="btn small-btn" onclick="stopAnimation()">
                                <i class="fas fa-stop"></i> Stop
                            </button>
                        </div>
                    </div>
                </div>

                <div class="info-card">
                    <h3><i class="fas fa-info-circle"></i> How It Works</h3>
                    <ul class="info-list">
                        <li>Enter disk parameters and I/O requests</li>
                        <li>Select algorithms to visualize</li>
                        <li>Click "Visualize" to see head movement</li>
                        <li>Use animation controls to play/pause</li>
                        <li>Compare efficiency of different algorithms</li>
                    </ul>
                    <div class="legend">
                        <h4><i class="fas fa-palette"></i> Color Legend</h4>
                        <div class="legend-item">
                            <span class="legend-color" style="background-color: #ff5252;"></span>
                            <span>FCFS</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-color" style="background-color: #ffd700;"></span>
                            <span>SSTF</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-color" style="background-color: #00ff00;"></span>
                            <span>SCAN</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-color" style="background-color: #00bfff;"></span>
                            <span>C-SCAN</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-color" style="background-color: #ff00ff;"></span>
                            <span>LOOK</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-color" style="background-color: #ff8c00;"></span>
                            <span>C-LOOK</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="results-section">
                <div class="results-header">
                    <h2><i class="fas fa-chart-line"></i> Visualization Results</h2>
                    <div class="stats-summary" id="stats-summary">
                        <div class="stat">
                            <span class="stat-label">Best Algorithm:</span>
                            <span class="stat-value">--</span>
                        </div>
                        <div class="stat">
                            <span class="stat-label">Lowest Movement:</span>
                            <span class="stat-value">--</span>
                        </div>
                        <div class="stat">
                            <span class="stat-label">Highest Movement:</span>
                            <span class="stat-value">--</span>
                        </div>
                    </div>
                </div>

                <div class="comparison-chart" id="comparison-chart">
                    <canvas id="chart"></canvas>
                </div>

                <div class="results-container" id="output">
                    <!-- Results will be inserted here -->
                </div>
            </div>
        </div>

        <div class="timeline-container" id="timeline-container">
            <h3><i class="fas fa-history"></i> Request Timeline</h3>
            <div class="timeline" id="timeline">
                <!-- Timeline will be generated here -->
            </div>
        </div>

        <footer>
            <p>Disk Scheduling Visualizer &copy; 2023 | 
                <i class="fas fa-code"></i> with <i class="fas fa-heart"></i> by CS Enthusiasts
            </p>
            <div class="footer-links">
                <a href="#" onclick="showAbout()"><i class="fas fa-question-circle"></i> About</a>
                <a href="#" onclick="exportResults()"><i class="fas fa-download"></i> Export</a>
                <a href="#" onclick="toggleDarkMode()"><i class="fas fa-moon"></i> Dark Mode</a>
            </div>
        </footer>
    </div>

    <!-- About Modal -->
    <div class="modal-overlay" id="about-modal">
        <div class="modal">
            <div class="modal-header">
                <h3><i class="fas fa-info-circle"></i> About Disk Scheduling</h3>
                <button class="close-modal" onclick="closeModal('about-modal')">&times;</button>
            </div>
            <div class="modal-body">
                <p>Disk scheduling algorithms are used by operating systems to decide the order in which disk I/O requests are serviced.</p>
                <div class="algorithm-explanations">
                    <div class="algo-explanation">
                        <h4>FCFS (First Come First Serve)</h4>
                        <p>Services requests in the order they arrive. Simple but can be inefficient.</p>
                    </div>
                    <div class="algo-explanation">
                        <h4>SSTF (Shortest Seek Time First)</h4>
                        <p>Services the request closest to the current head position.</p>
                    </div>
                    <div class="algo-explanation">
                        <h4>SCAN (Elevator Algorithm)</h4>
                        <p>Moves the head in one direction, servicing requests, then reverses direction.</p>
                    </div>
                    <div class="algo-explanation">
                        <h4>C-SCAN (Circular SCAN)</h4>
                        <p>Like SCAN but moves only in one direction, jumping to the start when reaching the end.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastify-js/1.12.0/toastify.min.js"></script>
    <script src="script.js"></script>
    <!-- Add this at the end of your body, before the closing </body> tag -->
<div class="back-to-top" id="backToTop">
    <i class="fas fa-arrow-up"></i>
</div>

<script>
    // Parallax scroll effect
    window.addEventListener('scroll', function() {
        const scrolled = window.pageYOffset;
        const rate = scrolled * -0.5;
        
        document.querySelectorAll('.parallax').forEach(element => {
            element.style.transform = `translateY(${rate}px)`;
        });
        
        // Back to top button
        const backToTop = document.getElementById('backToTop');
        if (scrolled > 300) {
            backToTop.classList.add('visible');
        } else {
            backToTop.classList.remove('visible');
        }
    });
    
    // Back to top functionality
    document.getElementById('backToTop').addEventListener('click', function() {
        window.scrollTo({
            top: 0,
            behavior: 'smooth'
        });
    });
    
    // Add parallax class to elements
    document.addEventListener('DOMContentLoaded', function() {
        document.querySelector('header').classList.add('parallax');
        document.querySelector('.input-section').classList.add('parallax');
        document.querySelector('.results-section').classList.add('parallax');
        document.querySelector('.timeline-container').classList.add('parallax');
        document.querySelector('footer').classList.add('parallax');
    });
</script>
</body>
</html>